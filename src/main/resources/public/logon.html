<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spring security and Cassandra</title>
    <script
            src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>
</head>
<body>
<div>
    <h1>Страница регистрации</h1>
    <form>
        <p>имя</p>
        <input id="name"  type="text" size="40">
        <p>почта</p>
        <input id="email"  type="text" size="40">
        <p>роль</p>
        <input id="role"  type="text" size="40">
        <p>пароль</p>
        <input id="password"  type="password" size="40">
        <br>
        <br>
        <input id="inputform" type="button" value="зарегистрироваться">
    </form>
</div>
</body>
<script>
    document.getElementById("inputform").onclick =
        function createUser() {
            let data = {}
            data["name"] = document.getElementById("name").value;
            data["email"] = document.getElementById("email").value;
            data["role"] = document.getElementById("role").value;
            data["password"] = document.getElementById("password").value;
            $.ajax({
                type: "POST",
                contentType: "application/json",
                url: "/registration",
                data: JSON.stringify(data),
                dataType: 'json',
                cache: false,
                success: function(data){
                    alert(JSON.stringify(data));
                    location.href = 'authorized/internalwelcompage.html';
                },
                error: function (e) {
                    console.log("ERROR : ", e);
                }
            });
        }
</script>
</html>